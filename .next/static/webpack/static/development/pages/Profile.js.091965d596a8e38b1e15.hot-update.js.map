{"version":3,"file":"static/webpack/static\\development\\pages\\Profile.js.091965d596a8e38b1e15.hot-update.js","sources":["webpack:///./pages/Profile.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport UserInfo from \"../src/components/UserInfo\";\r\nimport UserEditForm from \"../src/components/UserEditForm\";\r\nimport { getUserInfo } from \"../src/actions/profileActions\";\r\nimport { logout } from \"../src/actions/authActions\";\r\nimport \"../src/styles/pages/profile.scss\";\r\nimport Button from \"@material-ui/core/Button\";\r\n\r\nimport { useRouter } from \"next/router\"\r\n\r\nconst Profile = props => {\r\n\r\n  const router = useRouter()\r\n\r\n  const [userInfo, setUserInfo] = useState({});\r\n\r\n  useEffect(() => {\r\n    let { token } = props;\r\n    props.getUserInfo(token);\r\n  }, []);\r\n\r\n  //*************************************\r\n  useEffect(() => {\r\n    setUserInfo(props.data);\r\n  }, [props.data]);\r\n\r\n  //*************************************\r\n  useEffect(() => {\r\n    if (!props.isAuthenticated)\r\n      router.push('/')\r\n  }, [props.isAuthenticated]);\r\n\r\n  //*************************************\r\n  const [showForm, setShowForm] = useState(false);\r\n\r\n  const handleSetEditForm = () => {\r\n    setShowForm(true);\r\n  };\r\n\r\n  const handleUnsetEditForm = () => {\r\n    setShowForm(false);\r\n  };\r\n\r\n  //*************************************\r\n  const handleLogoutClick = () => {\r\n    props.logout();\r\n    router.push('/')\r\n  };\r\n\r\n  //*************************************\r\n  return (\r\n    <div className=\"profile\">\r\n      <div className=\"row no-gutters justify-content-center\">\r\n        <div className=\"col-4\"></div>\r\n        <div className=\"col-4\">\r\n          <div className=\"profile-body\">\r\n            {!showForm ? (\r\n              <UserInfo setEditForm={handleSetEditForm} data={userInfo} />\r\n            ) : (\r\n                <UserEditForm\r\n                  unsetEditForm={handleUnsetEditForm}\r\n                  data={userInfo}\r\n                />\r\n              )}\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"col-4\">\r\n          <div className=\"logout-button\">\r\n            <Button\r\n              variant=\"outlined\"\r\n              color=\"primary\"\r\n              className=\"button\"\r\n              onClick={handleLogoutClick}\r\n            >\r\n              خروج\r\n            </Button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  data: state.profile.data,\r\n  token: state.auth.token,\r\n  isAuthenticated: state.auth.isAuthenticated\r\n});\r\n\r\nexport default connect(mapStateToProps, { getUserInfo, logout })(Profile);\r\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AAHA;AAAA;AAAA;AACA;AAKA;AAAA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AArBA;AAAA;AAAA;AACA;AAwBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAaA;AACA;AACA;AAAA;AACA;AACA;AACA;AAHA;AAAA;AACA;AAKA;AAAA;AAAA;AAAA;;;;A","sourceRoot":""}