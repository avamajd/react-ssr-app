{"ast":null,"code":"import _JSON$stringify from \"@babel/runtime-corejs2/core-js/json/stringify\";\nimport { GET_USER_INFO, GET_USER_INFO_COMPLETE, GET_USER_INFO_ERROR, EDIT_USER_INFO, EDIT_USER_INFO_COMPLETE, EDIT_USER_INFO_ERROR } from \"../constants\";\nvar baseUrl = \"https://api.tavanito.ir/v2\"; // export const getUserInfo = token => {\n//   return {\n//     type: GET_USER_INFO,\n//     token\n//   };\n// };\n// export const editUserInfo = (token, data) => {\n//   return {\n//     type: EDIT_USER_INFO,\n//     token,\n//     data\n//   };\n// };\n\nexport var getUserInfo = function getUserInfo(token) {\n  var uri = \"\".concat(baseUrl, \"/user\");\n  return function (dispatch) {\n    dispatch(function () {\n      return {\n        type: GET_USER_INFO\n      };\n    });\n    fetch(uri, {\n      method: \"GET\",\n      headers: {\n        Authorization: token ? \"Bearer \".concat(token) : \"\",\n        \"Content-Type\": \"application/json\"\n      }\n    }).then(function (res) {\n      return res.json();\n    }).then(function (res) {\n      dispatch(function () {\n        return {\n          type: GET_USER_INFO_COMPLETE,\n          data: res.data\n        };\n      });\n    })[\"catch\"](function (err) {\n      dispatch(function () {\n        return {\n          type: GET_USER_INFO_ERROR,\n          err: err\n        };\n      });\n    });\n  };\n}; //***********************************************\n\nexport var editUserInfo = function editUserInfo(token, data) {\n  var uri = \"\".concat(baseUrl, \"/user\");\n  return function (dispatch) {\n    dispatch(function () {\n      return {\n        type: EDIT_USER_INFO\n      };\n    });\n    fetch(uri, {\n      method: \"PUT\",\n      body: _JSON$stringify(data),\n      headers: {\n        Authorization: token ? \"Bearer \".concat(token) : \"\",\n        \"Content-Type\": \"application/json\"\n      }\n    }).then(function (res) {\n      return res.json();\n    }).then(function (res) {\n      dispatch(function () {\n        return {\n          type: EDIT_USER_INFO_COMPLETE,\n          data: res.data\n        };\n      });\n    })[\"catch\"](function (err) {\n      dispatch(function () {\n        return {\n          type: EDIT_USER_INFO_ERROR,\n          err: err\n        };\n      });\n    });\n  };\n};","map":{"version":3,"sources":["G:/projects/nextjs-tavanito/src/actions/profileActions.js"],"names":["GET_USER_INFO","GET_USER_INFO_COMPLETE","GET_USER_INFO_ERROR","EDIT_USER_INFO","EDIT_USER_INFO_COMPLETE","EDIT_USER_INFO_ERROR","baseUrl","getUserInfo","token","uri","dispatch","type","fetch","method","headers","Authorization","then","res","json","data","err","editUserInfo","body"],"mappings":";AAAA,SACEA,aADF,EACiBC,sBADjB,EACyCC,mBADzC,EAEEC,cAFF,EAEkBC,uBAFlB,EAE2CC,oBAF3C,QAGO,cAHP;AAKA,IAAMC,OAAO,GAAG,4BAAhB,C,CAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,OAAO,IAAMC,WAAW,GAAG,SAAdA,WAAc,CAACC,KAAD,EAAW;AAEpC,MAAIC,GAAG,aAAMH,OAAN,UAAP;AAEA,SAAO,UAAAI,QAAQ,EAAI;AAEjBA,IAAAA,QAAQ,CAAC;AAAA,aAAO;AACdC,QAAAA,IAAI,EAAEX;AADQ,OAAP;AAAA,KAAD,CAAR;AAIAY,IAAAA,KAAK,CAACH,GAAD,EAAM;AACTI,MAAAA,MAAM,EAAE,KADC;AAGTC,MAAAA,OAAO,EAAE;AACPC,QAAAA,aAAa,EAAEP,KAAK,oBAAaA,KAAb,IAAuB,EADpC;AAEP,wBAAgB;AAFT;AAHA,KAAN,CAAL,CAOGQ,IAPH,CAOQ,UAAAC,GAAG;AAAA,aAAIA,GAAG,CAACC,IAAJ,EAAJ;AAAA,KAPX,EASGF,IATH,CASQ,UAAAC,GAAG,EAAI;AACXP,MAAAA,QAAQ,CAAC;AAAA,eAAO;AACdC,UAAAA,IAAI,EAAEV,sBADQ;AACgBkB,UAAAA,IAAI,EAAEF,GAAG,CAACE;AAD1B,SAAP;AAAA,OAAD,CAAR;AAGD,KAbH,WAcS,UAAAC,GAAG,EAAI;AACZV,MAAAA,QAAQ,CAAC;AAAA,eAAO;AACdC,UAAAA,IAAI,EAAET,mBADQ;AACakB,UAAAA,GAAG,EAAHA;AADb,SAAP;AAAA,OAAD,CAAR;AAGD,KAlBH;AAmBD,GAzBD;AA0BD,CA9BM,C,CAgCP;;AAEA,OAAO,IAAMC,YAAY,GAAG,SAAfA,YAAe,CAACb,KAAD,EAAQW,IAAR,EAAiB;AAE3C,MAAIV,GAAG,aAAMH,OAAN,UAAP;AAEA,SAAO,UAAAI,QAAQ,EAAI;AAEjBA,IAAAA,QAAQ,CAAC;AAAA,aAAO;AACdC,QAAAA,IAAI,EAAER;AADQ,OAAP;AAAA,KAAD,CAAR;AAIAS,IAAAA,KAAK,CAACH,GAAD,EAAM;AACTI,MAAAA,MAAM,EAAE,KADC;AAETS,MAAAA,IAAI,EAAE,gBAAeH,IAAf,CAFG;AAGTL,MAAAA,OAAO,EAAE;AACPC,QAAAA,aAAa,EAAEP,KAAK,oBAAaA,KAAb,IAAuB,EADpC;AAEP,wBAAgB;AAFT;AAHA,KAAN,CAAL,CAOGQ,IAPH,CAOQ,UAAAC,GAAG;AAAA,aAAIA,GAAG,CAACC,IAAJ,EAAJ;AAAA,KAPX,EASGF,IATH,CASQ,UAAAC,GAAG,EAAI;AACXP,MAAAA,QAAQ,CAAC;AAAA,eAAO;AACdC,UAAAA,IAAI,EAAEP,uBADQ;AACiBe,UAAAA,IAAI,EAAEF,GAAG,CAACE;AAD3B,SAAP;AAAA,OAAD,CAAR;AAGD,KAbH,WAcS,UAAAC,GAAG,EAAI;AACZV,MAAAA,QAAQ,CAAC;AAAA,eAAO;AACdC,UAAAA,IAAI,EAAEN,oBADQ;AACce,UAAAA,GAAG,EAAHA;AADd,SAAP;AAAA,OAAD,CAAR;AAGD,KAlBH;AAmBD,GAzBD;AA0BD,CA9BM","sourcesContent":["import {\r\n  GET_USER_INFO, GET_USER_INFO_COMPLETE, GET_USER_INFO_ERROR,\r\n  EDIT_USER_INFO, EDIT_USER_INFO_COMPLETE, EDIT_USER_INFO_ERROR\r\n} from \"../constants\";\r\n\r\nconst baseUrl = \"https://api.tavanito.ir/v2\";\r\n\r\n// export const getUserInfo = token => {\r\n//   return {\r\n//     type: GET_USER_INFO,\r\n//     token\r\n//   };\r\n// };\r\n\r\n// export const editUserInfo = (token, data) => {\r\n//   return {\r\n//     type: EDIT_USER_INFO,\r\n//     token,\r\n//     data\r\n//   };\r\n// };\r\n\r\nexport const getUserInfo = (token) => {\r\n\r\n  let uri = `${baseUrl}/user`;\r\n\r\n  return dispatch => {\r\n\r\n    dispatch(() => ({\r\n      type: GET_USER_INFO\r\n    }));\r\n\r\n    fetch(uri, {\r\n      method: \"GET\",\r\n\r\n      headers: {\r\n        Authorization: token ? `Bearer ${token}` : \"\",\r\n        \"Content-Type\": \"application/json\"\r\n      }\r\n    }).then(res => res.json())\r\n\r\n      .then(res => {\r\n        dispatch(() => ({\r\n          type: GET_USER_INFO_COMPLETE, data: res.data\r\n        }))\r\n      })\r\n      .catch(err => {\r\n        dispatch(() => ({\r\n          type: GET_USER_INFO_ERROR, err\r\n        }));\r\n      });\r\n  };\r\n};\r\n\r\n//***********************************************\r\n\r\nexport const editUserInfo = (token, data) => {\r\n\r\n  let uri = `${baseUrl}/user`;\r\n\r\n  return dispatch => {\r\n\r\n    dispatch(() => ({\r\n      type: EDIT_USER_INFO\r\n    }));\r\n\r\n    fetch(uri, {\r\n      method: \"PUT\",\r\n      body: JSON.stringify(data),\r\n      headers: {\r\n        Authorization: token ? `Bearer ${token}` : \"\",\r\n        \"Content-Type\": \"application/json\"\r\n      }\r\n    }).then(res => res.json())\r\n\r\n      .then(res => {\r\n        dispatch(() => ({\r\n          type: EDIT_USER_INFO_COMPLETE, data: res.data\r\n        }))\r\n      })\r\n      .catch(err => {\r\n        dispatch(() => ({\r\n          type: EDIT_USER_INFO_ERROR, err\r\n        }));\r\n      });\r\n  };\r\n};"]},"metadata":{},"sourceType":"module"}