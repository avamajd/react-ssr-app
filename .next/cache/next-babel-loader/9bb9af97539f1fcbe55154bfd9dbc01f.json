{"ast":null,"code":"import { createStore, applyMiddleware } from \"redux\";\nimport thunk from 'redux-thunk';\nimport rootReducer from \"../reducers\";\nimport { persistStore } from \"redux-persist\"; // import storage from \"redux-persist/lib/storage\";\n\nexport var store = function store(initialState) {\n  var isClient = true;\n\n  if (isClient) {\n    var _require = require('redux-persist'),\n        persistReducer = _require.persistReducer;\n\n    var storage = require('redux-persist/lib/storage')[\"default\"];\n\n    var persistConfig = {\n      key: \"root\",\n      storage: storage // whitelist: [\"token\", \"username\"]\n\n    };\n    var persistedReducer = persistReducer(persistConfig, rootReducer);\n    return createStore(persistedReducer, initialState, applyMiddleware(thunk)); // store.__PERSISTOR = persistStore(store);\n\n    store.persistor = persistStore(store);\n  } else {\n    return createStore(rootReducer, initialState, applyMiddleware(thunk));\n  }\n};","map":{"version":3,"sources":["G:/projects/nextjs-tavanito/src/store/index.js"],"names":["createStore","applyMiddleware","thunk","rootReducer","persistStore","store","initialState","isClient","require","persistReducer","storage","persistConfig","key","persistedReducer","persistor"],"mappings":"AAAA,SAASA,WAAT,EAAsBC,eAAtB,QAA6C,OAA7C;AACA,OAAOC,KAAP,MAAkB,aAAlB;AACA,OAAOC,WAAP,MAAwB,aAAxB;AACA,SAASC,YAAT,QAA6B,eAA7B,C,CACA;;AAEA,OAAO,IAAMC,KAAK,GAAG,SAARA,KAAQ,CAAAC,YAAY,EAAI;AAEnC,MAAMC,QAAQ,OAAd;;AAEA,MAAIA,QAAJ,EAAc;AAAA,mBAEeC,OAAO,CAAC,eAAD,CAFtB;AAAA,QAEJC,cAFI,YAEJA,cAFI;;AAGZ,QAAMC,OAAO,GAAGF,OAAO,CAAC,2BAAD,CAAP,WAAhB;;AAEA,QAAMG,aAAa,GAAG;AACpBC,MAAAA,GAAG,EAAE,MADe;AAEpBF,MAAAA,OAAO,EAAPA,OAFoB,CAGpB;;AAHoB,KAAtB;AAMA,QAAMG,gBAAgB,GAAGJ,cAAc,CAACE,aAAD,EAAgBR,WAAhB,CAAvC;AACA,WAAOH,WAAW,CAChBa,gBADgB,EAEhBP,YAFgB,EAGhBL,eAAe,CAACC,KAAD,CAHC,CAAlB,CAZY,CAkBZ;;AACAG,IAAAA,KAAK,CAACS,SAAN,GAAkBV,YAAY,CAACC,KAAD,CAA9B;AAED,GArBD,MAsBK;AACH,WAAOL,WAAW,CAChBG,WADgB,EAEhBG,YAFgB,EAGhBL,eAAe,CAACC,KAAD,CAHC,CAAlB;AAKD;AACF,CAjCM","sourcesContent":["import { createStore, applyMiddleware } from \"redux\";\r\nimport thunk from 'redux-thunk'\r\nimport rootReducer from \"../reducers\";\r\nimport { persistStore } from \"redux-persist\";\r\n// import storage from \"redux-persist/lib/storage\";\r\n\r\nexport const store = initialState => {\r\n\r\n  const isClient = typeof window !== 'undefined';\r\n\r\n  if (isClient) {\r\n\r\n    const { persistReducer } = require('redux-persist');\r\n    const storage = require('redux-persist/lib/storage').default;\r\n\r\n    const persistConfig = {\r\n      key: \"root\",\r\n      storage\r\n      // whitelist: [\"token\", \"username\"]\r\n    };\r\n\r\n    const persistedReducer = persistReducer(persistConfig, rootReducer);\r\n    return createStore(\r\n      persistedReducer,\r\n      initialState,\r\n      applyMiddleware(thunk)\r\n    );\r\n\r\n    // store.__PERSISTOR = persistStore(store);\r\n    store.persistor = persistStore(store);\r\n\r\n  }\r\n  else {\r\n    return createStore(\r\n      rootReducer,\r\n      initialState,\r\n      applyMiddleware(thunk),\r\n    );\r\n  }\r\n};\r\n\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}