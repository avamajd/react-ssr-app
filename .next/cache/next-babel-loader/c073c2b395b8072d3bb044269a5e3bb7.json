{"ast":null,"code":"import { createStore, applyMiddleware } from \"redux\";\nimport thunk from 'redux-thunk';\nimport rootReducer from \"../reducers\";\nimport { persistStore, persistReducer } from \"redux-persist\";\nimport storage from \"redux-persist/lib/storage\";\nexport var store = function store(initialState) {\n  var isClient = true;\n\n  if (isClient) {\n    var persistConfig = {\n      key: \"root\",\n      storage: storage // whitelist: [\"token\", \"username\"]\n\n    };\n    var persistedReducer = persistReducer(persistConfig, rootReducer);\n    return createStore(persistedReducer, initialState, applyMiddleware(thunk)); // export const persistor = persistStore(store);\n\n    store.__PERSISTOR = persistStore(store);\n  } else {\n    return createStore(rootReducer, initialState, applyMiddleware(thunk));\n  }\n};","map":{"version":3,"sources":["G:/projects/nextjs-tavanito/src/store/index.js"],"names":["createStore","applyMiddleware","thunk","rootReducer","persistStore","persistReducer","storage","store","initialState","isClient","persistConfig","key","persistedReducer","__PERSISTOR"],"mappings":"AAAA,SAASA,WAAT,EAAsBC,eAAtB,QAA6C,OAA7C;AACA,OAAOC,KAAP,MAAkB,aAAlB;AACA,OAAOC,WAAP,MAAwB,aAAxB;AACA,SAASC,YAAT,EAAuBC,cAAvB,QAA6C,eAA7C;AACA,OAAOC,OAAP,MAAoB,2BAApB;AAEA,OAAO,IAAMC,KAAK,GAAG,SAARA,KAAQ,CAAAC,YAAY,EAAI;AAEnC,MAAMC,QAAQ,OAAd;;AAEA,MAAIA,QAAJ,EAAc;AACZ,QAAMC,aAAa,GAAG;AACpBC,MAAAA,GAAG,EAAE,MADe;AAEpBL,MAAAA,OAAO,EAAPA,OAFoB,CAGpB;;AAHoB,KAAtB;AAMA,QAAMM,gBAAgB,GAAGP,cAAc,CAACK,aAAD,EAAgBP,WAAhB,CAAvC;AACA,WAAOH,WAAW,CAChBY,gBADgB,EAEhBJ,YAFgB,EAGhBP,eAAe,CAACC,KAAD,CAHC,CAAlB,CARY,CAcZ;;AACAK,IAAAA,KAAK,CAACM,WAAN,GAAoBT,YAAY,CAACG,KAAD,CAAhC;AAED,GAjBD,MAkBK;AACH,WAAOP,WAAW,CAChBG,WADgB,EAEhBK,YAFgB,EAGhBP,eAAe,CAACC,KAAD,CAHC,CAAlB;AAKD;AACF,CA7BM","sourcesContent":["import { createStore, applyMiddleware } from \"redux\";\r\nimport thunk from 'redux-thunk'\r\nimport rootReducer from \"../reducers\";\r\nimport { persistStore, persistReducer } from \"redux-persist\";\r\nimport storage from \"redux-persist/lib/storage\";\r\n\r\nexport const store = initialState => {\r\n\r\n  const isClient = typeof window !== 'undefined';\r\n\r\n  if (isClient) {\r\n    const persistConfig = {\r\n      key: \"root\",\r\n      storage\r\n      // whitelist: [\"token\", \"username\"]\r\n    };\r\n\r\n    const persistedReducer = persistReducer(persistConfig, rootReducer);\r\n    return createStore(\r\n      persistedReducer,\r\n      initialState,\r\n      applyMiddleware(thunk)\r\n    );\r\n\r\n    // export const persistor = persistStore(store);\r\n    store.__PERSISTOR = persistStore(store);\r\n\r\n  }\r\n  else {\r\n    return createStore(\r\n      rootReducer,\r\n      initialState,\r\n      applyMiddleware(thunk),\r\n    );\r\n  }\r\n};\r\n"]},"metadata":{},"sourceType":"module"}