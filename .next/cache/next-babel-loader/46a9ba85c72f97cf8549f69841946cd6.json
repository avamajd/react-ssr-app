{"ast":null,"code":"import _objectWithoutProperties from \"@babel/runtime-corejs2/helpers/esm/objectWithoutProperties\";\nvar _jsxFileName = \"G:\\\\projects\\\\nextjs-tavanito\\\\src\\\\components\\\\UserEditForm.js\";\nvar __jsx = React.createElement;\nimport React, { useState, useEffect } from \"react\";\nimport \"./user-edit-form.scss\";\nimport { Formik, Form, ErrorMessage } from \"formik\"; // import FormControl from \"@material-ui/core/FormControl\";\n\nimport TextField from \"@material-ui/core/TextField\"; // import InputLabel from \"@material-ui/core/InputLabel\";\n// import Select from \"@material-ui/core/Select\";\n// import MenuItem from \"@material-ui/core/MenuItem\";\n// import OutlinedInput from \"@material-ui/core/OutlinedInput\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Button from \"@material-ui/core/Button\";\nimport { connect } from \"react-redux\";\nimport { editUserInfo } from \"../actions/profileActions\"; // import moment from \"moment-jalaali\";\n\nvar UserEditForm = function UserEditForm(props) {\n  var _useState = useState(\"\"),\n      name = _useState[0],\n      setName = _useState[1];\n\n  var _useState2 = useState(\"\"),\n      lastname = _useState2[0],\n      setLastname = _useState2[1]; //*************************************\n\n\n  var handleClick = function handleClick() {\n    props.unsetEditForm && props.unsetEditForm();\n  }; //*************************************\n\n\n  var _props$data = props.data,\n      first_name = _props$data.first_name,\n      last_name = _props$data.last_name,\n      email = _props$data.email,\n      telephone = _props$data.telephone,\n      mobile = _props$data.mobile,\n      national_code = _props$data.national_code;\n  return __jsx(\"div\", {\n    className: \"profile-form\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36\n    },\n    __self: this\n  }, __jsx(Formik, {\n    initialValues: {\n      first_name: first_name,\n      last_name: last_name,\n      email: email,\n      telephone: telephone,\n      mobile: mobile,\n      national_code: national_code\n    },\n    validate: function validate(values) {\n      var errors = {}; //**************************************\n\n      if (!values.first_name) {\n        errors.first_name = \"لطفاً نام خود را وارد نمایید.\";\n      } else if (!/(^\\s*)[A-Zآ-ی]+(\\s*$)/i.test(values.first_name)) {\n        errors.first_name = \"نام واردشده معتبر نیست.\";\n      } else {\n        var _first_name = values.first_name.split(/\\s+/).filter(function (n) {\n          return n !== \"\";\n        });\n\n        setName(_first_name);\n      } //**************************************\n\n\n      if (!values.last_name) {\n        errors.last_name = \"لطفاً نام خانوادگی خود را وارد نمایید.\";\n      } else if (!/(^\\s*)[A-Zآ-ی]+(\\s*$)/i.test(values.last_name)) {\n        errors.last_name = \"نام خانوادگی واردشده معتبر نیست.\";\n      } else {\n        var _last_name = values.last_name.split(/\\s+/).filter(function (n) {\n          return n !== \"\";\n        });\n\n        setLastname(_last_name);\n      } //**************************************\n\n\n      if (!values.email) {\n        errors.email = \"لطفاً ایمیل خود را وارد نمایید.\";\n      } else if (!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i.test(values.email)) {\n        errors.email = \"ایمیل وارد شده معتبر نیست.\";\n      } //**************************************\n\n\n      return errors;\n    },\n    onSubmit: function onSubmit(values, _ref) {\n      var setSubmitting = _ref.setSubmitting;\n\n      var mobile = values.mobile,\n          data = _objectWithoutProperties(values, [\"mobile\"]);\n\n      props.editUserInfo(props.token, data);\n      props.unsetEditForm && props.unsetEditForm();\n      setSubmitting(false);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37\n    },\n    __self: this\n  }, function (_ref2) {\n    var values = _ref2.values,\n        errors = _ref2.errors,\n        touched = _ref2.touched,\n        handleChange = _ref2.handleChange,\n        isSubmitting = _ref2.isSubmitting;\n    return __jsx(Form, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, __jsx(\"div\", {\n      className: \"row no-gutters px-4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, __jsx(\"div\", {\n      className: \"col-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, __jsx(TextField, {\n      error: errors.first_name && touched.first_name,\n      id: \"first_name\",\n      label: \"\\u0646\\u0627\\u0645\",\n      name: \"first_name\",\n      value: values.first_name,\n      onChange: handleChange,\n      margin: \"normal\",\n      variant: \"outlined\",\n      type: \"text\",\n      dir: \"rtl\",\n      className: \"col\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }), __jsx(ErrorMessage, {\n      className: \"error-msg\",\n      name: \"first_name\",\n      component: \"div\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    })), __jsx(\"div\", {\n      className: \"col-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }, __jsx(TextField, {\n      error: errors.last_name && touched.last_name,\n      id: \"last_name\",\n      label: \"\\u0646\\u0627\\u0645 \\u062E\\u0627\\u0646\\u0648\\u0627\\u062F\\u06AF\\u06CC\",\n      name: \"last_name\",\n      value: values.last_name,\n      onChange: handleChange,\n      margin: \"normal\",\n      variant: \"outlined\",\n      type: \"text\",\n      dir: \"rtl\",\n      className: \"col\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }), __jsx(ErrorMessage, {\n      className: \"error-msg\",\n      name: \"last_name\",\n      component: \"div\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133\n      },\n      __self: this\n    })), __jsx(\"div\", {\n      className: \"col-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140\n      },\n      __self: this\n    }, __jsx(TextField, {\n      error: errors.email && touched.email,\n      id: \"email\",\n      label: \"\\u0627\\u06CC\\u0645\\u06CC\\u0644\",\n      name: \"email\",\n      value: values.email,\n      onChange: handleChange,\n      margin: \"normal\",\n      variant: \"outlined\",\n      type: \"text\",\n      className: \"col\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141\n      },\n      __self: this\n    }), __jsx(ErrorMessage, {\n      className: \"error-msg\",\n      name: \"email\",\n      component: \"div\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153\n      },\n      __self: this\n    })), __jsx(\"div\", {\n      className: \"col-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160\n      },\n      __self: this\n    }, __jsx(TextField, {\n      error: errors.telephone && touched.telephone,\n      id: \"telephone\",\n      label: \"\\u0634\\u0645\\u0627\\u0631\\u0647 \\u062A\\u0644\\u0641\\u0646\",\n      name: \"telephone\",\n      value: values.telephone,\n      onChange: handleChange,\n      margin: \"normal\",\n      variant: \"outlined\",\n      type: \"text\",\n      className: \"col\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161\n      },\n      __self: this\n    })), __jsx(\"div\", {\n      className: \"col-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175\n      },\n      __self: this\n    }, __jsx(TextField, {\n      disabled: true,\n      error: errors.mobile && touched.mobile,\n      id: \"mobile\",\n      label: \"\\u0634\\u0645\\u0627\\u0631\\u0647 \\u0645\\u0648\\u0628\\u0627\\u06CC\\u0644\",\n      name: \"mobile\",\n      value: values.mobile,\n      onChange: handleChange,\n      margin: \"normal\",\n      variant: \"outlined\",\n      type: \"text\",\n      className: \"col\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176\n      },\n      __self: this\n    })), __jsx(\"div\", {\n      className: \"col-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191\n      },\n      __self: this\n    }, __jsx(TextField, {\n      error: errors.national_code && touched.national_code,\n      id: \"national_code\",\n      label: \"\\u0634\\u0645\\u0627\\u0631\\u0647 \\u0645\\u0644\\u06CC\",\n      name: \"national_code\",\n      value: values.national_code,\n      onChange: handleChange,\n      margin: \"normal\",\n      variant: \"outlined\",\n      type: \"text\",\n      className: \"col\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192\n      },\n      __self: this\n    })), __jsx(\"div\", {\n      className: \"col-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206\n      },\n      __self: this\n    }, __jsx(\"div\", {\n      className: \"buttons\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207\n      },\n      __self: this\n    }, __jsx(Button, {\n      className: \"cancel-button\",\n      onClick: handleClick,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208\n      },\n      __self: this\n    }, \"\\u0627\\u0646\\u0635\\u0631\\u0627\\u0641\"), __jsx(Button, {\n      type: \"submit\",\n      variant: \"contained\",\n      color: \"primary\",\n      className: \"confirm-button\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212\n      },\n      __self: this\n    }, \"\\u062A\\u0627\\u06CC\\u06CC\\u062F \\u0648\\u06CC\\u0631\\u0627\\u06CC\\u0634\")))));\n  }));\n};\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    token: state.auth.token\n  };\n};\n\nexport default connect(mapStateToProps, {\n  editUserInfo: editUserInfo\n})(UserEditForm);","map":{"version":3,"sources":["G:/projects/nextjs-tavanito/src/components/UserEditForm.js"],"names":["React","useState","useEffect","Formik","Form","ErrorMessage","TextField","makeStyles","Button","connect","editUserInfo","UserEditForm","props","name","setName","lastname","setLastname","handleClick","unsetEditForm","data","first_name","last_name","email","telephone","mobile","national_code","values","errors","test","split","filter","n","setSubmitting","token","touched","handleChange","isSubmitting","mapStateToProps","state","auth"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport \"./user-edit-form.scss\";\r\nimport { Formik, Form, ErrorMessage } from \"formik\";\r\n// import FormControl from \"@material-ui/core/FormControl\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\n// import InputLabel from \"@material-ui/core/InputLabel\";\r\n// import Select from \"@material-ui/core/Select\";\r\n// import MenuItem from \"@material-ui/core/MenuItem\";\r\n// import OutlinedInput from \"@material-ui/core/OutlinedInput\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport { connect } from \"react-redux\";\r\nimport { editUserInfo } from \"../actions/profileActions\";\r\n// import moment from \"moment-jalaali\";\r\n\r\nconst UserEditForm = props => {\r\n  const [name, setName] = useState(\"\");\r\n  const [lastname, setLastname] = useState(\"\");\r\n\r\n  //*************************************\r\n  const handleClick = () => {\r\n    props.unsetEditForm && props.unsetEditForm();\r\n  };\r\n\r\n  //*************************************\r\n  const {\r\n    first_name,\r\n    last_name,\r\n    email,\r\n    telephone,\r\n    mobile,\r\n    national_code\r\n  } = props.data;\r\n\r\n  return (\r\n    <div className=\"profile-form\">\r\n      <Formik\r\n        initialValues={{\r\n          first_name,\r\n          last_name,\r\n          email,\r\n          telephone,\r\n          mobile,\r\n          national_code\r\n        }}\r\n        validate={values => {\r\n          let errors = {};\r\n          //**************************************\r\n          if (!values.first_name) {\r\n            errors.first_name = \"لطفاً نام خود را وارد نمایید.\";\r\n          } else if (!/(^\\s*)[A-Zآ-ی]+(\\s*$)/i.test(values.first_name)) {\r\n            errors.first_name = \"نام واردشده معتبر نیست.\";\r\n          } else {\r\n            let first_name = values.first_name\r\n              .split(/\\s+/)\r\n              .filter(n => n !== \"\");\r\n            setName(first_name);\r\n          }\r\n          //**************************************\r\n          if (!values.last_name) {\r\n            errors.last_name = \"لطفاً نام خانوادگی خود را وارد نمایید.\";\r\n          } else if (!/(^\\s*)[A-Zآ-ی]+(\\s*$)/i.test(values.last_name)) {\r\n            errors.last_name = \"نام خانوادگی واردشده معتبر نیست.\";\r\n          } else {\r\n            let last_name = values.last_name.split(/\\s+/).filter(n => n !== \"\");\r\n            setLastname(last_name);\r\n          }\r\n          //**************************************\r\n          if (!values.email) {\r\n            errors.email = \"لطفاً ایمیل خود را وارد نمایید.\";\r\n          } else if (\r\n            !/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i.test(values.email)\r\n          ) {\r\n            errors.email = \"ایمیل وارد شده معتبر نیست.\";\r\n          }\r\n          //**************************************\r\n          return errors;\r\n        }}\r\n        onSubmit={(values, { setSubmitting }) => {\r\n          const { mobile, ...data } = values;\r\n\r\n          props.editUserInfo(props.token, data);\r\n          props.unsetEditForm && props.unsetEditForm();\r\n          setSubmitting(false);\r\n        }}\r\n      >\r\n        {({\r\n          values,\r\n          errors,\r\n          touched,\r\n          handleChange,\r\n          //   handleBlur,\r\n          //   handleSubmit,\r\n          isSubmitting\r\n        }) => (\r\n            <Form>\r\n              <div className=\"row no-gutters px-4\">\r\n                <div className=\"col-12\">\r\n                  <TextField\r\n                    error={errors.first_name && touched.first_name}\r\n                    id=\"first_name\"\r\n                    label=\"نام\"\r\n                    name=\"first_name\"\r\n                    value={values.first_name}\r\n                    onChange={handleChange}\r\n                    margin=\"normal\"\r\n                    variant=\"outlined\"\r\n                    type=\"text\"\r\n                    dir=\"rtl\"\r\n                    className={`col`}\r\n                  />\r\n                  <ErrorMessage\r\n                    className=\"error-msg\"\r\n                    name=\"first_name\"\r\n                    component=\"div\"\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"col-12\">\r\n                  <TextField\r\n                    error={errors.last_name && touched.last_name}\r\n                    id=\"last_name\"\r\n                    label=\"نام خانوادگی\"\r\n                    name=\"last_name\"\r\n                    value={values.last_name}\r\n                    onChange={handleChange}\r\n                    margin=\"normal\"\r\n                    variant=\"outlined\"\r\n                    type=\"text\"\r\n                    dir=\"rtl\"\r\n                    className={`col`}\r\n                  />\r\n                  <ErrorMessage\r\n                    className=\"error-msg\"\r\n                    name=\"last_name\"\r\n                    component=\"div\"\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"col-12\">\r\n                  <TextField\r\n                    error={errors.email && touched.email}\r\n                    id=\"email\"\r\n                    label=\"ایمیل\"\r\n                    name=\"email\"\r\n                    value={values.email}\r\n                    onChange={handleChange}\r\n                    margin=\"normal\"\r\n                    variant=\"outlined\"\r\n                    type=\"text\"\r\n                    className={`col`}\r\n                  />\r\n                  <ErrorMessage\r\n                    className=\"error-msg\"\r\n                    name=\"email\"\r\n                    component=\"div\"\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"col-12\">\r\n                  <TextField\r\n                    error={errors.telephone && touched.telephone}\r\n                    id=\"telephone\"\r\n                    label=\"شماره تلفن\"\r\n                    name=\"telephone\"\r\n                    value={values.telephone}\r\n                    onChange={handleChange}\r\n                    margin=\"normal\"\r\n                    variant=\"outlined\"\r\n                    type=\"text\"\r\n                    className={`col`}\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"col-12\">\r\n                  <TextField\r\n                    disabled={true}\r\n                    error={errors.mobile && touched.mobile}\r\n                    id=\"mobile\"\r\n                    label=\"شماره موبایل\"\r\n                    name=\"mobile\"\r\n                    value={values.mobile}\r\n                    onChange={handleChange}\r\n                    margin=\"normal\"\r\n                    variant=\"outlined\"\r\n                    type=\"text\"\r\n                    className={`col`}\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"col-12\">\r\n                  <TextField\r\n                    error={errors.national_code && touched.national_code}\r\n                    id=\"national_code\"\r\n                    label=\"شماره ملی\"\r\n                    name=\"national_code\"\r\n                    value={values.national_code}\r\n                    onChange={handleChange}\r\n                    margin=\"normal\"\r\n                    variant=\"outlined\"\r\n                    type=\"text\"\r\n                    className={`col`}\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"col-12\">\r\n                  <div className=\"buttons\">\r\n                    <Button className=\"cancel-button\" onClick={handleClick}>\r\n                      انصراف\r\n                  </Button>\r\n\r\n                    <Button\r\n                      type=\"submit\"\r\n                      variant=\"contained\"\r\n                      color=\"primary\"\r\n                      className=\"confirm-button\"\r\n                    >\r\n                      تایید ویرایش\r\n                  </Button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </Form>\r\n          )}\r\n      </Formik>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  token: state.auth.token\r\n});\r\n\r\nexport default connect(mapStateToProps, { editUserInfo })(UserEditForm);\r\n"]},"metadata":{},"sourceType":"module"}