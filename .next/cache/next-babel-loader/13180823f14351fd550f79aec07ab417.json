{"ast":null,"code":"import _objectWithoutProperties from \"@babel/runtime-corejs2/helpers/esm/objectWithoutProperties\";\nvar _jsxFileName = \"G:\\\\projects\\\\nextjs-tavanito\\\\src\\\\components\\\\UserEditForm.js\";\nvar __jsx = React.createElement;\nimport React, { useState, useEffect } from \"react\";\nimport \"./user-edit-form.scss\";\nimport { Formik, Form, ErrorMessage } from \"formik\"; // import FormControl from \"@material-ui/core/FormControl\";\n\nimport TextField from \"@material-ui/core/TextField\"; // import InputLabel from \"@material-ui/core/InputLabel\";\n// import Select from \"@material-ui/core/Select\";\n// import MenuItem from \"@material-ui/core/MenuItem\";\n// import OutlinedInput from \"@material-ui/core/OutlinedInput\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Button from \"@material-ui/core/Button\";\nimport { connect } from \"react-redux\";\nimport { editUserInfo } from \"../actions/profileActions\"; // import moment from \"moment-jalaali\";\n\nconst UserEditForm = props => {\n  const {\n    0: name,\n    1: setName\n  } = useState(\"\");\n  const {\n    0: lastname,\n    1: setLastname\n  } = useState(\"\"); //*************************************\n\n  const handleClick = () => {\n    props.unsetEditForm && props.unsetEditForm();\n  }; //*************************************\n\n\n  const {\n    first_name,\n    last_name,\n    email,\n    telephone,\n    mobile,\n    national_code\n  } = props.data;\n  return __jsx(\"div\", {\n    className: \"profile-form\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36\n    },\n    __self: this\n  }, __jsx(Formik, {\n    initialValues: {\n      first_name,\n      last_name,\n      email,\n      telephone,\n      mobile,\n      national_code\n    },\n    validate: values => {\n      let errors = {}; //**************************************\n\n      if (!values.first_name) {\n        errors.first_name = \"لطفاً نام خود را وارد نمایید.\";\n      } else if (!/(^\\s*)[A-Zآ-ی]+(\\s*$)/i.test(values.first_name)) {\n        errors.first_name = \"نام واردشده معتبر نیست.\";\n      } else {\n        let first_name = values.first_name.split(/\\s+/).filter(n => n !== \"\");\n        setName(first_name);\n      } //**************************************\n\n\n      if (!values.last_name) {\n        errors.last_name = \"لطفاً نام خانوادگی خود را وارد نمایید.\";\n      } else if (!/(^\\s*)[A-Zآ-ی]+(\\s*$)/i.test(values.last_name)) {\n        errors.last_name = \"نام خانوادگی واردشده معتبر نیست.\";\n      } else {\n        let last_name = values.last_name.split(/\\s+/).filter(n => n !== \"\");\n        setLastname(last_name);\n      } //**************************************\n\n\n      if (!values.email) {\n        errors.email = \"لطفاً ایمیل خود را وارد نمایید.\";\n      } else if (!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i.test(values.email)) {\n        errors.email = \"ایمیل وارد شده معتبر نیست.\";\n      } //**************************************\n\n\n      return errors;\n    },\n    onSubmit: (values, {\n      setSubmitting\n    }) => {\n      const {\n        mobile\n      } = values,\n            data = _objectWithoutProperties(values, [\"mobile\"]);\n\n      props.editUserInfo(props.token, data);\n      props.unsetEditForm && props.unsetEditForm();\n      setSubmitting(false);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37\n    },\n    __self: this\n  }, ({\n    values,\n    errors,\n    touched,\n    handleChange,\n    //   handleBlur,\n    //   handleSubmit,\n    isSubmitting\n  }) => __jsx(Form, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    className: \"row no-gutters px-4\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    className: \"col-12\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98\n    },\n    __self: this\n  }, __jsx(TextField, {\n    error: errors.first_name && touched.first_name,\n    id: \"first_name\",\n    label: \"\\u0646\\u0627\\u0645\",\n    name: \"first_name\",\n    value: values.first_name,\n    onChange: handleChange,\n    margin: \"normal\",\n    variant: \"outlined\",\n    type: \"text\",\n    dir: \"rtl\",\n    className: `col`,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99\n    },\n    __self: this\n  }), __jsx(ErrorMessage, {\n    className: \"error-msg\",\n    name: \"first_name\",\n    component: \"div\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112\n    },\n    __self: this\n  })), __jsx(\"div\", {\n    className: \"col-12\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119\n    },\n    __self: this\n  }, __jsx(TextField, {\n    error: errors.last_name && touched.last_name,\n    id: \"last_name\",\n    label: \"\\u0646\\u0627\\u0645 \\u062E\\u0627\\u0646\\u0648\\u0627\\u062F\\u06AF\\u06CC\",\n    name: \"last_name\",\n    value: values.last_name,\n    onChange: handleChange,\n    margin: \"normal\",\n    variant: \"outlined\",\n    type: \"text\",\n    dir: \"rtl\",\n    className: `col`,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120\n    },\n    __self: this\n  }), __jsx(ErrorMessage, {\n    className: \"error-msg\",\n    name: \"last_name\",\n    component: \"div\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133\n    },\n    __self: this\n  })), __jsx(\"div\", {\n    className: \"col-12\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140\n    },\n    __self: this\n  }, __jsx(TextField, {\n    error: errors.email && touched.email,\n    id: \"email\",\n    label: \"\\u0627\\u06CC\\u0645\\u06CC\\u0644\",\n    name: \"email\",\n    value: values.email,\n    onChange: handleChange,\n    margin: \"normal\",\n    variant: \"outlined\",\n    type: \"text\",\n    className: `col`,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141\n    },\n    __self: this\n  }), __jsx(ErrorMessage, {\n    className: \"error-msg\",\n    name: \"email\",\n    component: \"div\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153\n    },\n    __self: this\n  })), __jsx(\"div\", {\n    className: \"col-12\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160\n    },\n    __self: this\n  }, __jsx(TextField, {\n    error: errors.telephone && touched.telephone,\n    id: \"telephone\",\n    label: \"\\u0634\\u0645\\u0627\\u0631\\u0647 \\u062A\\u0644\\u0641\\u0646\",\n    name: \"telephone\",\n    value: values.telephone,\n    onChange: handleChange,\n    margin: \"normal\",\n    variant: \"outlined\",\n    type: \"text\",\n    className: `col`,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161\n    },\n    __self: this\n  })), __jsx(\"div\", {\n    className: \"col-12\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175\n    },\n    __self: this\n  }, __jsx(TextField, {\n    disabled: true,\n    error: errors.mobile && touched.mobile,\n    id: \"mobile\",\n    label: \"\\u0634\\u0645\\u0627\\u0631\\u0647 \\u0645\\u0648\\u0628\\u0627\\u06CC\\u0644\",\n    name: \"mobile\",\n    value: values.mobile,\n    onChange: handleChange,\n    margin: \"normal\",\n    variant: \"outlined\",\n    type: \"text\",\n    className: `col`,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176\n    },\n    __self: this\n  })), __jsx(\"div\", {\n    className: \"col-12\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191\n    },\n    __self: this\n  }, __jsx(TextField, {\n    error: errors.national_code && touched.national_code,\n    id: \"national_code\",\n    label: \"\\u0634\\u0645\\u0627\\u0631\\u0647 \\u0645\\u0644\\u06CC\",\n    name: \"national_code\",\n    value: values.national_code,\n    onChange: handleChange,\n    margin: \"normal\",\n    variant: \"outlined\",\n    type: \"text\",\n    className: `col`,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192\n    },\n    __self: this\n  })), __jsx(\"div\", {\n    className: \"col-12\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    className: \"buttons\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207\n    },\n    __self: this\n  }, __jsx(Button, {\n    className: \"cancel-button\",\n    onClick: handleClick,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208\n    },\n    __self: this\n  }, \"\\u0627\\u0646\\u0635\\u0631\\u0627\\u0641\"), __jsx(Button, {\n    type: \"submit\",\n    variant: \"contained\",\n    color: \"primary\",\n    className: \"confirm-button\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 212\n    },\n    __self: this\n  }, \"\\u062A\\u0627\\u06CC\\u06CC\\u062F \\u0648\\u06CC\\u0631\\u0627\\u06CC\\u0634\")))))));\n};\n\nconst mapStateToProps = state => ({\n  token: state.auth.token\n});\n\nexport default connect(mapStateToProps, {\n  editUserInfo\n})(UserEditForm);","map":{"version":3,"sources":["G:/projects/nextjs-tavanito/src/components/UserEditForm.js"],"names":["React","useState","useEffect","Formik","Form","ErrorMessage","TextField","makeStyles","Button","connect","editUserInfo","UserEditForm","props","name","setName","lastname","setLastname","handleClick","unsetEditForm","first_name","last_name","email","telephone","mobile","national_code","data","values","errors","test","split","filter","n","setSubmitting","token","touched","handleChange","isSubmitting","mapStateToProps","state","auth"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport \"./user-edit-form.scss\";\r\nimport { Formik, Form, ErrorMessage } from \"formik\";\r\n// import FormControl from \"@material-ui/core/FormControl\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\n// import InputLabel from \"@material-ui/core/InputLabel\";\r\n// import Select from \"@material-ui/core/Select\";\r\n// import MenuItem from \"@material-ui/core/MenuItem\";\r\n// import OutlinedInput from \"@material-ui/core/OutlinedInput\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport { connect } from \"react-redux\";\r\nimport { editUserInfo } from \"../actions/profileActions\";\r\n// import moment from \"moment-jalaali\";\r\n\r\nconst UserEditForm = props => {\r\n  const [name, setName] = useState(\"\");\r\n  const [lastname, setLastname] = useState(\"\");\r\n\r\n  //*************************************\r\n  const handleClick = () => {\r\n    props.unsetEditForm && props.unsetEditForm();\r\n  };\r\n\r\n  //*************************************\r\n  const {\r\n    first_name,\r\n    last_name,\r\n    email,\r\n    telephone,\r\n    mobile,\r\n    national_code\r\n  } = props.data;\r\n\r\n  return (\r\n    <div className=\"profile-form\">\r\n      <Formik\r\n        initialValues={{\r\n          first_name,\r\n          last_name,\r\n          email,\r\n          telephone,\r\n          mobile,\r\n          national_code\r\n        }}\r\n        validate={values => {\r\n          let errors = {};\r\n          //**************************************\r\n          if (!values.first_name) {\r\n            errors.first_name = \"لطفاً نام خود را وارد نمایید.\";\r\n          } else if (!/(^\\s*)[A-Zآ-ی]+(\\s*$)/i.test(values.first_name)) {\r\n            errors.first_name = \"نام واردشده معتبر نیست.\";\r\n          } else {\r\n            let first_name = values.first_name\r\n              .split(/\\s+/)\r\n              .filter(n => n !== \"\");\r\n            setName(first_name);\r\n          }\r\n          //**************************************\r\n          if (!values.last_name) {\r\n            errors.last_name = \"لطفاً نام خانوادگی خود را وارد نمایید.\";\r\n          } else if (!/(^\\s*)[A-Zآ-ی]+(\\s*$)/i.test(values.last_name)) {\r\n            errors.last_name = \"نام خانوادگی واردشده معتبر نیست.\";\r\n          } else {\r\n            let last_name = values.last_name.split(/\\s+/).filter(n => n !== \"\");\r\n            setLastname(last_name);\r\n          }\r\n          //**************************************\r\n          if (!values.email) {\r\n            errors.email = \"لطفاً ایمیل خود را وارد نمایید.\";\r\n          } else if (\r\n            !/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i.test(values.email)\r\n          ) {\r\n            errors.email = \"ایمیل وارد شده معتبر نیست.\";\r\n          }\r\n          //**************************************\r\n          return errors;\r\n        }}\r\n        onSubmit={(values, { setSubmitting }) => {\r\n          const { mobile, ...data } = values;\r\n\r\n          props.editUserInfo(props.token, data);\r\n          props.unsetEditForm && props.unsetEditForm();\r\n          setSubmitting(false);\r\n        }}\r\n      >\r\n        {({\r\n          values,\r\n          errors,\r\n          touched,\r\n          handleChange,\r\n          //   handleBlur,\r\n          //   handleSubmit,\r\n          isSubmitting\r\n        }) => (\r\n            <Form>\r\n              <div className=\"row no-gutters px-4\">\r\n                <div className=\"col-12\">\r\n                  <TextField\r\n                    error={errors.first_name && touched.first_name}\r\n                    id=\"first_name\"\r\n                    label=\"نام\"\r\n                    name=\"first_name\"\r\n                    value={values.first_name}\r\n                    onChange={handleChange}\r\n                    margin=\"normal\"\r\n                    variant=\"outlined\"\r\n                    type=\"text\"\r\n                    dir=\"rtl\"\r\n                    className={`col`}\r\n                  />\r\n                  <ErrorMessage\r\n                    className=\"error-msg\"\r\n                    name=\"first_name\"\r\n                    component=\"div\"\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"col-12\">\r\n                  <TextField\r\n                    error={errors.last_name && touched.last_name}\r\n                    id=\"last_name\"\r\n                    label=\"نام خانوادگی\"\r\n                    name=\"last_name\"\r\n                    value={values.last_name}\r\n                    onChange={handleChange}\r\n                    margin=\"normal\"\r\n                    variant=\"outlined\"\r\n                    type=\"text\"\r\n                    dir=\"rtl\"\r\n                    className={`col`}\r\n                  />\r\n                  <ErrorMessage\r\n                    className=\"error-msg\"\r\n                    name=\"last_name\"\r\n                    component=\"div\"\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"col-12\">\r\n                  <TextField\r\n                    error={errors.email && touched.email}\r\n                    id=\"email\"\r\n                    label=\"ایمیل\"\r\n                    name=\"email\"\r\n                    value={values.email}\r\n                    onChange={handleChange}\r\n                    margin=\"normal\"\r\n                    variant=\"outlined\"\r\n                    type=\"text\"\r\n                    className={`col`}\r\n                  />\r\n                  <ErrorMessage\r\n                    className=\"error-msg\"\r\n                    name=\"email\"\r\n                    component=\"div\"\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"col-12\">\r\n                  <TextField\r\n                    error={errors.telephone && touched.telephone}\r\n                    id=\"telephone\"\r\n                    label=\"شماره تلفن\"\r\n                    name=\"telephone\"\r\n                    value={values.telephone}\r\n                    onChange={handleChange}\r\n                    margin=\"normal\"\r\n                    variant=\"outlined\"\r\n                    type=\"text\"\r\n                    className={`col`}\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"col-12\">\r\n                  <TextField\r\n                    disabled={true}\r\n                    error={errors.mobile && touched.mobile}\r\n                    id=\"mobile\"\r\n                    label=\"شماره موبایل\"\r\n                    name=\"mobile\"\r\n                    value={values.mobile}\r\n                    onChange={handleChange}\r\n                    margin=\"normal\"\r\n                    variant=\"outlined\"\r\n                    type=\"text\"\r\n                    className={`col`}\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"col-12\">\r\n                  <TextField\r\n                    error={errors.national_code && touched.national_code}\r\n                    id=\"national_code\"\r\n                    label=\"شماره ملی\"\r\n                    name=\"national_code\"\r\n                    value={values.national_code}\r\n                    onChange={handleChange}\r\n                    margin=\"normal\"\r\n                    variant=\"outlined\"\r\n                    type=\"text\"\r\n                    className={`col`}\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"col-12\">\r\n                  <div className=\"buttons\">\r\n                    <Button className=\"cancel-button\" onClick={handleClick}>\r\n                      انصراف\r\n                  </Button>\r\n\r\n                    <Button\r\n                      type=\"submit\"\r\n                      variant=\"contained\"\r\n                      color=\"primary\"\r\n                      className=\"confirm-button\"\r\n                    >\r\n                      تایید ویرایش\r\n                  </Button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </Form>\r\n          )}\r\n      </Formik>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  token: state.auth.token\r\n});\r\n\r\nexport default connect(mapStateToProps, { editUserInfo })(UserEditForm);\r\n"]},"metadata":{},"sourceType":"module"}