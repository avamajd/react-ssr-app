{"ast":null,"code":"var _jsxFileName = \"G:\\\\projects\\\\nextjs-tavanito\\\\pages\\\\Profile.js\";\nvar __jsx = React.createElement;\nimport React, { useState, useEffect } from \"react\";\nimport { connect } from \"react-redux\";\nimport UserInfo from \"../src/components/UserInfo\";\nimport UserEditForm from \"../src/components/UserEditForm\";\nimport { getUserInfo } from \"../src/actions/profileActions\";\nimport { logout } from \"../src/actions/authActions\";\nimport \"../src/styles/pages/profile.scss\";\nimport Button from \"@material-ui/core/Button\";\nimport { useRouter } from \"next/router\";\n\nconst Profile = props => {\n  const router = useRouter();\n  const {\n    0: userInfo,\n    1: setUserInfo\n  } = useState({});\n  useEffect(() => {\n    let {\n      token\n    } = props;\n    props.getUserInfo(token);\n  }, []); //*************************************\n\n  useEffect(() => {\n    setUserInfo(props.data);\n  }, [props.data]); //*************************************\n\n  useEffect(() => {\n    if (!props.isAuthenticated) router.push('/'); // props.url.replaceTo('/')\n  }, [props.isAuthenticated]); //*************************************\n\n  const {\n    0: showForm,\n    1: setShowForm\n  } = useState(false);\n\n  const handleSetEditForm = () => {\n    setShowForm(true);\n  };\n\n  const handleUnsetEditForm = () => {\n    setShowForm(false);\n  }; //*************************************\n\n\n  const handleLogoutClick = () => {\n    props.logout();\n    router.push('/');\n  }; //*************************************\n\n\n  return __jsx(\"div\", {\n    className: \"profile\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    className: \"row no-gutters justify-content-center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    className: \"col-4\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }), __jsx(\"div\", {\n    className: \"col-4\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    className: \"profile-body\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }, !showForm ? __jsx(UserInfo, {\n    setEditForm: handleSetEditForm,\n    data: userInfo,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }) : __jsx(UserEditForm, {\n    unsetEditForm: handleUnsetEditForm,\n    data: userInfo,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }))), __jsx(\"div\", {\n    className: \"col-4\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    className: \"logout-button\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71\n    },\n    __self: this\n  }, __jsx(Button, {\n    variant: \"outlined\",\n    color: \"primary\",\n    className: \"button\",\n    onClick: handleLogoutClick,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  }, \"\\u062E\\u0631\\u0648\\u062C\")))));\n};\n\nconst mapStateToProps = state => ({\n  data: state.profile.data,\n  token: state.auth.token,\n  isAuthenticated: state.auth.isAuthenticated\n});\n\nexport default connect(mapStateToProps, {\n  getUserInfo,\n  logout\n})(Profile);","map":{"version":3,"sources":["G:/projects/nextjs-tavanito/pages/Profile.js"],"names":["React","useState","useEffect","connect","UserInfo","UserEditForm","getUserInfo","logout","Button","useRouter","Profile","props","router","userInfo","setUserInfo","token","data","isAuthenticated","push","showForm","setShowForm","handleSetEditForm","handleUnsetEditForm","handleLogoutClick","mapStateToProps","state","profile","auth"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport UserInfo from \"../src/components/UserInfo\";\r\nimport UserEditForm from \"../src/components/UserEditForm\";\r\nimport { getUserInfo } from \"../src/actions/profileActions\";\r\nimport { logout } from \"../src/actions/authActions\";\r\nimport \"../src/styles/pages/profile.scss\";\r\nimport Button from \"@material-ui/core/Button\";\r\n\r\nimport { useRouter } from \"next/router\"\r\n\r\nconst Profile = props => {\r\n\r\n  const router = useRouter()\r\n\r\n  const [userInfo, setUserInfo] = useState({});\r\n\r\n  useEffect(() => {\r\n    let { token } = props;\r\n    props.getUserInfo(token);\r\n  }, []);\r\n\r\n  //*************************************\r\n  useEffect(() => {\r\n    setUserInfo(props.data);\r\n  }, [props.data]);\r\n\r\n  //*************************************\r\n  useEffect(() => {\r\n    if (!props.isAuthenticated)\r\n      router.push('/')\r\n    // props.url.replaceTo('/')\r\n  }, [props.isAuthenticated]);\r\n\r\n  //*************************************\r\n  const [showForm, setShowForm] = useState(false);\r\n\r\n  const handleSetEditForm = () => {\r\n    setShowForm(true);\r\n  };\r\n\r\n  const handleUnsetEditForm = () => {\r\n    setShowForm(false);\r\n  };\r\n\r\n  //*************************************\r\n  const handleLogoutClick = () => {\r\n    props.logout();\r\n    router.push('/')\r\n  };\r\n\r\n  //*************************************\r\n  return (\r\n    <div className=\"profile\">\r\n      <div className=\"row no-gutters justify-content-center\">\r\n        <div className=\"col-4\"></div>\r\n        <div className=\"col-4\">\r\n          <div className=\"profile-body\">\r\n            {!showForm ? (\r\n              <UserInfo setEditForm={handleSetEditForm} data={userInfo} />\r\n            ) : (\r\n                <UserEditForm\r\n                  unsetEditForm={handleUnsetEditForm}\r\n                  data={userInfo}\r\n                />\r\n              )}\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"col-4\">\r\n          <div className=\"logout-button\">\r\n            <Button\r\n              variant=\"outlined\"\r\n              color=\"primary\"\r\n              className=\"button\"\r\n              onClick={handleLogoutClick}\r\n            >\r\n              خروج\r\n            </Button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  data: state.profile.data,\r\n  token: state.auth.token,\r\n  isAuthenticated: state.auth.isAuthenticated\r\n});\r\n\r\nexport default connect(mapStateToProps, { getUserInfo, logout })(Profile);\r\n"]},"metadata":{},"sourceType":"module"}