{"ast":null,"code":"import _JSON$stringify from \"@babel/runtime-corejs2/core-js/json/stringify\";\nimport { GET_USER_INFO, GET_USER_INFO_COMPLETE, GET_USER_INFO_ERROR, EDIT_USER_INFO, EDIT_USER_INFO_COMPLETE, EDIT_USER_INFO_ERROR } from \"../constants\";\nvar baseUrl = \"https://api.tavanito.ir/v2\"; //******************************************\n\nvar getUserInfoReq = function getUserInfoReq() {\n  return {\n    type: GET_USER_INFO\n  };\n};\n\nvar getUserInfoComplete = function getUserInfoComplete(data) {\n  return {\n    type: GET_USER_INFO_COMPLETE,\n    data: data\n  };\n};\n\nvar getUserInfoError = function getUserInfoError(error) {\n  return {\n    type: GET_USER_INFO_ERROR,\n    error: error\n  };\n};\n\nexport var getUserInfo = function getUserInfo(token) {\n  var uri = \"\".concat(baseUrl, \"/user\");\n  return function (dispatch) {\n    dispatch(getUserInfoReq());\n    fetch(uri, {\n      method: \"GET\",\n      headers: {\n        Authorization: token ? \"Bearer \".concat(token) : \"\",\n        \"Content-Type\": \"application/json\"\n      }\n    }).then(function (res) {\n      return res.json();\n    }).then(function (res) {\n      dispatch(getUserInfoComplete(res.data));\n    })[\"catch\"](function (err) {\n      dispatch(getUserInfoError(err));\n    });\n  };\n}; //******************************************\n\nvar editUserInfoReq = function editUserInfoReq() {\n  return {\n    type: EDIT_USER_INFO\n  };\n};\n\nvar editUserInfoComplete = function editUserInfoComplete(data) {\n  return {\n    type: EDIT_USER_INFO_COMPLETE,\n    data: data\n  };\n};\n\nvar editUserInfoError = function editUserInfoError(error) {\n  return {\n    type: EDIT_USER_INFO_ERROR,\n    error: error\n  };\n};\n\nexport var editUserInfo = function editUserInfo(token, data) {\n  var uri = \"\".concat(baseUrl, \"/user\");\n  return function (dispatch) {\n    dispatch(editUserInfoReq());\n    fetch(uri, {\n      method: \"PUT\",\n      body: _JSON$stringify(data),\n      headers: {\n        Authorization: token ? \"Bearer \".concat(token) : \"\",\n        \"Content-Type\": \"application/json\"\n      }\n    }).then(function (res) {\n      return res.json();\n    }).then(function (res) {\n      dispatch(editUserInfoComplete(res.data));\n    })[\"catch\"](function (err) {\n      dispatch(editUserInfoError(err));\n    });\n  };\n};","map":{"version":3,"sources":["G:/projects/nextjs-tavanito/src/actions/profileActions.js"],"names":["GET_USER_INFO","GET_USER_INFO_COMPLETE","GET_USER_INFO_ERROR","EDIT_USER_INFO","EDIT_USER_INFO_COMPLETE","EDIT_USER_INFO_ERROR","baseUrl","getUserInfoReq","type","getUserInfoComplete","data","getUserInfoError","error","getUserInfo","token","uri","dispatch","fetch","method","headers","Authorization","then","res","json","err","editUserInfoReq","editUserInfoComplete","editUserInfoError","editUserInfo","body"],"mappings":"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","sourcesContent":["import {\r\n  GET_USER_INFO, GET_USER_INFO_COMPLETE, GET_USER_INFO_ERROR,\r\n  EDIT_USER_INFO, EDIT_USER_INFO_COMPLETE, EDIT_USER_INFO_ERROR\r\n} from \"../constants\";\r\n\r\nconst baseUrl = \"https://api.tavanito.ir/v2\";\r\n\r\n//******************************************\r\n\r\nconst getUserInfoReq = () => ({\r\n  type: GET_USER_INFO\r\n})\r\n\r\nconst getUserInfoComplete = (data) => ({\r\n  type: GET_USER_INFO_COMPLETE,\r\n  data\r\n})\r\n\r\nconst getUserInfoError = (error) => ({\r\n  type: GET_USER_INFO_ERROR,\r\n  error\r\n})\r\n\r\nexport const getUserInfo = (token) => {\r\n\r\n  let uri = `${baseUrl}/user`;\r\n\r\n  return dispatch => {\r\n\r\n    dispatch(getUserInfoReq());\r\n\r\n    fetch(uri, {\r\n      method: \"GET\",\r\n\r\n      headers: {\r\n        Authorization: token ? `Bearer ${token}` : \"\",\r\n        \"Content-Type\": \"application/json\"\r\n      }\r\n    }).then(res => res.json())\r\n\r\n      .then(res => {\r\n        dispatch(getUserInfoComplete(res.data))\r\n      })\r\n      .catch(err => {\r\n        dispatch(getUserInfoError(err))\r\n      });\r\n  };\r\n};\r\n\r\n//******************************************\r\n\r\nconst editUserInfoReq = () => ({\r\n  type: EDIT_USER_INFO\r\n})\r\n\r\nconst editUserInfoComplete = (data) => ({\r\n  type: EDIT_USER_INFO_COMPLETE,\r\n  data\r\n})\r\n\r\nconst editUserInfoError = (error) => ({\r\n  type: EDIT_USER_INFO_ERROR,\r\n  error\r\n})\r\n\r\nexport const editUserInfo = (token, data) => {\r\n\r\n  let uri = `${baseUrl}/user`;\r\n\r\n  return dispatch => {\r\n\r\n    dispatch(editUserInfoReq());\r\n\r\n    fetch(uri, {\r\n      method: \"PUT\",\r\n      body: JSON.stringify(data),\r\n      headers: {\r\n        Authorization: token ? `Bearer ${token}` : \"\",\r\n        \"Content-Type\": \"application/json\"\r\n      }\r\n    }).then(res => res.json())\r\n\r\n      .then(res => {\r\n        dispatch(editUserInfoComplete(res.data))\r\n      })\r\n      .catch(err => {\r\n        dispatch(editUserInfoError(err));\r\n      });\r\n  };\r\n};"]},"metadata":{},"sourceType":"module"}